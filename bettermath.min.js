"use strict";(function(){var r={};r.orig={},Object.getOwnPropertyNames(Math).forEach(n=>"function"==typeof Math[n]?r.orig[n]=Math[n].bind({}):r.orig[n]=Math[n]),r.isArray=function(r){return Array.isArray?Array.isArray(r):r.constructor===Array},r.isObject=function(r){return r===Object(r)},r.pluck=function(n,i){var t=n;return r.isArray(n)?r.isObject(n[0])?(i=i||"value",t.map(r=>r[i])):t.slice():t},r.range=function(n,i,t){i=i||1,t=t||1;for(var u=r.max(r.ceil((n-i)/t),0),o=Array(u),e=0;e<u;e++,i+=t)o[e]=i;return o},r.repeat=function(n,i){if(r.isArray(n)||(n=[n]),!i)return n;for(var t=[],u=0;u<i;u++)t=t.concat(n);return t},r.repeatEach=function(n,i){r.isArray(n)||(n=[n]),i=i||1;var t=Array(i*n.length);return n.forEach(function(r,n){for(var u=0;u<i;u++)t[n*i+u]=r}),t},r.isUndefined=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isUndefined):void 0===n},r.isNumber=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isNumber):"number"==typeof n},r.isNaN=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isNaN):r.isNumber(n)&&n!==+n},r.isInteger=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isInteger):Number.isInteger(n)},r.isPositive=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isPositive):n>0},r.isNegative=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isNegative):n<0},r.isNonNegative=r.isNonnegative=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isNonnegative):n>=0},r.isNonPositive=r.isNonpositive=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isNonpositive):n<=0},r.isZero=r.iszero=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isZero):0===n},r.isNonZero=r.isNonzero=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isNonzero):0!==n},r.isSameSign=function(n,i){return r.isArray(n)?n.map(n=>r.isSameSign(n,i)):n>=0!=i<0},r.isFinite=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isFinite):Number.isFinite(n)},r.isInfinite=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isInfinite):!r.isFinite(n)},r.isEven=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isEven):n%2==0},r.isOdd=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isOdd):n%2==1},r.isPrime=function(n,i){if(r.isArray(n))return r.pluck(n,i).map(r.isPrime);if(!n)return!1;if(2!==n)for(var t=r.abs(r.round(n)),u=r.ceil(r.sqrt(t)),o=2;o<=u;o++)if(t%o==0)return!1;return!0},r.isComposite=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isComposite):!r.isPrime(n)},r.perfects=[6,28,496,8128,33550336,8589869056,137438691328],r.isPerfect=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isPerfect):n in r.perfects},r.random=function(n){if(!n)return r.orig.random();for(var i=Array(n),t=0;t<n;t++)i[t]=r.random();return i},r.randomBoolean=function(n){if(!n)return r.orig.random()>.5?1:-1;for(var i=Array(n),t=0;t<n;t++)i[t]=r.randomBoolean();return i},r.randomDirection=r.randomSign=function(n){if(!n)return r.orig.random()>.5?1:-1;for(var i=Array(n),t=0;t<n;t++)i[t]=r.randomDirection();return i},r.randomElement=r.randomItem=function(n,i){return i?r.randomElement(r.pluck(n,i)):n[r.floor(r.random()*n.length)]},r.randomSample=r.randomsample=function(n,i){return!i||i>n.length?n:r.shuffle(n).slice(0,i)},r.shuffle=function(n,i){for(var t,u,o=r.pluck(n,i),e=o.length;e;)u=r.floor(r.random()*e--),t=o[e],o[e]=o[u],o[u]=t;return o},r.sign=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.sign):r.orig.sign(n)},r.floor=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.floor):r.orig.floor(n)},r.ceil=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.ceil):r.orig.ceil(n)},r.round=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.round):r.orig.round(n)},r.clamp=function(n,i,t){return r.isArray(n)?n.map(n=>r.clamp(n,i,t)):n<i?i:n>t?t:n},r.trunc=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.trunc):r.orig.trunc(n)},r.abs=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.abs):r.orig.abs(n)},r.add=function(n,i){return r.isArray(n)?n.map(n=>r.add(n,i)):n+i},r.subtract=function(n,i){return r.isArray(n)?n.map(n=>r.subtract(n,i)):n-i},r.multiply=r.scale=function(n,i){return r.isArray(n)?n.map(n=>r.scale(n,i)):n*i},r.scale01=function(n,i){var t=r.pluck(n,i);return r.scalemm(t,0,1)},r.scale11=function(n,i){var t=r.pluck(n,i);return r.scalemm(t,-1,1)},r.scale0100=function(n,i){var t=r.pluck(n,i);return r.scalemm(t,0,100)},r.scalemm=r.scaleMM=function(n,i,t){r.isUndefined(i)&&(i=0),r.isUndefined(t)&&(t=1);var u=r.min(n),o=r.max(n)-u,e=t-i;return n.map(r=>(r-u)/o*e+i)},r.divide=function(n,i){return r.isArray(n)?n.map(n=>r.divide(n,i)):n/i},r.modulo=function(n,i){return r.isArray(n)?n.map(n=>r.modulo(n,i)):n%i},r.pow=function(n,i){return r.isArray(n)?n.map(n=>r.pow(n,i)):r.orig.pow(n,i)},r.square=function(n,i){return r.pow(r.pluck(n,i),2)},r.cube=function(n,i){return r.pow(r.pluck(n,i),3)},r.sqrt=function(n,i){return r.pow(r.pluck(n,i),.5)},r.cbrt=function(n,i){return r.pow(r.pluck(n,i),1/3)},r.exp=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.exp):r.pow(r.orig.E,n)},r.expm1=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.expm1):r.pow(r.orig.E,n)-1},r.log=r.ln=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.log):r.orig.log(n)},r.log1p=r.ln1p=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.log1p):r.log(1+n)},r.log10=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.log10):r.orig.log10(n)},r.log2=r.lg=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.log2):r.orig.log2(n)},r.logb=function(n,i){var t=r.log(i);return r.isArray(n)?n.map(n=>r.log(n)/t):r.log(n)/t},r.factorial=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.factorial):n<0?1/0:0===n?1:r.product(r.range(n))},r.copySign=r.copysign=function(n,i){return r.isArray(n)?n.map(n=>r.copySign(n,i)):r.isSameSign(n,i)?n:-n},r.undirectedEdges=r.undirectededges=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.undirectedEdges):n*(n-1)/2},r.factors=function(n,i){if(r.isArray(n))return r.pluck(n,i).map(r.factors);for(var t=[],u=r.abs(r.round(n)),o=!1;!o;){o=!0;for(var e=2;e<=u/2;e++)if(n%e==0){n/=e,t.push(e),o=!1;break}}return 0===t.length&&t.push(u),t},r.divisors=function(n,i){if(r.isArray(n))return r.pluck(n,i).map(r.divisors);for(var t=r.abs(r.round(n)),u=[1],o=2;o<=t/2;o++)t%o==0&&u.push(o);return u},r.between=function(n,i,t){return r.isArray(n)?n.map(n=>r.between(n,i,t)):i<=n&&n<=t||t<=n&&n<=i},r.format=function(n,i){return r.isArray(n)?n.map(n=>r.format(n,i)):n.toFixed(i)/1},r.sort=function(r,n){return n?r.sort((r,n)=>n-r):r.sort((r,n)=>r-n)},r.zScore=r.zscore=function(n,i){var t=r.pluck(n,i),u=r.mean(t),o=r.stdDeviation(t);return t.map(r=>(r-u)/o)},["sin","sinh","cos","cosh","tan","tanh","acos","acosh","asin","asinh","atan","atanh"].forEach(n=>{r[n]=function(i,t){return r.isArray(i)?r.pluck(i,t).map(i=>r[n](i)):r.orig[n](i)}}),r.atan2=function(n,i){return r.atan(r.divide(n,i))},r.min=function(n,i,...t){return r.isArray(n)?r.orig.min(...r.pluck(n,i)):r.orig.min(n,i,...t)},r.max=function(n,i,...t){return r.isArray(n)?r.orig.max(...r.pluck(n,i)):r.orig.max(n,i,...t)},r.sum=function(n,i){return r.pluck(n,i).reduce((r,n)=>r+n,0)},r.product=function(n,i){return r.pluck(n,i).reduce((r,n)=>r*n,1)},r.gcd=function(n,i){if(r.isArray(n))return n.map(n=>r.gcd(n,i));for(var t;i;)n=(t=[i,n%i])[0],i=t[1];return n},r.lcm=function(n,i){return r.isArray(n)?n.map(n=>r.lcm(n,i)):n/r.gcd(n,i)*i},r.mean=r.average=function(n,i){var t=r.pluck(n,i);return r.sum(t)/t.length},r.median=function(n,i){var t=r.pluck(n,i),u=(t.length+1)/2,o=r.sort(t);return o.length%2?o[u-1]:(o[u-1.5]+o[u-.5])/2},r.mode=r.modes=function(n,i){var t={},u=0,o=[];return r.pluck(n,i).forEach(r=>{t[r]?t[r]++:t[r]=1;t[r]>u?(o=[r],u=t[r]):t[r]===u&&o.push(r)}),o},r.geometricMean=function(n,i){var t=r.pluck(n,i);return r.pow(r.product(t),1/t.length)},r.midrange=r.midRange=function(n,i){var t=r.pluck(n,i),u=r.min(t);return(r.max(t)-u)/2+u},r.variance=function(n,i){var t=r.pluck(n,i),u=r.mean(t);return r.mean(t.map(n=>r.pow(n-u,2)))},r.stdDeviation=r.sigma=function(n,i){return r.sqrt(r.variance(r.pluck(n,i)))},r.meanAbsoluteDeviation=function(n,i){var t=r.pluck(n,i),u=r.mean(t);return r.mean(t.map(n=>r.abs(n-u)))},r.hypot=r.rss=function(n,i,...t){if(r.isArray(n)){var u=r.pluck(n,i);return r.isNumber(i)?r.hypot(...u,i,...t):r.hypot(...u,...t)}return r.orig.hypot(n,i,...t)},r.wilson=function(n,i){var t=n.reduce((r,n)=>n?r+1:r,0),u=n.length;if(u<=0||u<t)return 0;var o=t/u,i=i||1.644853,e=r.square(i);return(o+e/(2*u)-i*r.sqrt((o*(1-o)+e/(4*u))/u))/(1+e/u)},r.movingAverage=r.movingaverage=r.movingAvg=function(n,i){for(var t,u=[],o=i-1;o<=n.length;o++)(t=n.slice(o-i,o)).length===i&&u.push(r.mean(t));return u},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=r),exports.math=r):window.math=r}).call();