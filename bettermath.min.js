"use strict";(function(){var r={};r.isArray=function(r){return Array.isArray?Array.isArray(r):r.constructor===Array},r.isObject=function(r){return r===Object(r)},r.pluck=function(n,i){var t=n;return r.isArray(n)&&r.isObject(n[0])&&(i=i||"value",t=n.map(r=>r[i])),t},r.range=function(r,n,i){n=n||1,i=i||1;for(var t=Math.max(Math.ceil((r-n)/i),0),u=Array(t),e=0;e<t;e++,n+=i)u[e]=n;return u},r.isUndefined=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isUndefined):void 0===n},r.isNumber=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isNumber):"number"==typeof n},r.isNaN=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isNaN):r.isNumber(n)&&n!==+n},r.isInteger=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isInteger):Number.isInteger(n)},r.isPositive=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isPositive):n>0},r.isNegative=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isNegative):n<0},r.isNonnegative=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isNonnegative):n>=0},r.isNonpositive=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isNonpositive):n<=0},r.isZero=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isZero):0===n},r.isNonzero=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isNonzero):0!==n},r.isFinite=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isFinite):Number.isFinite(n)},r.isInfinite=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isInfinite):!r.isFinite(n)},r.isEven=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isEven):n%2==0},r.isOdd=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isOdd):n%2==1},r.isPrime=function(n,i){if(r.isArray(n))return r.pluck(n,i).map(r.isPrime);if(!n)return!1;if(2!==n)for(var t=r.abs(Math.round(n)),u=Math.ceil(r.sqrt(t)),e=2;e<=u;e++)if(t%e==0)return!1;return!0},r.isComposite=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.isComposite):!r.isPrime(n)};var n=Math.sign;r.sign=function(i,t){return r.isArray(i)?r.pluck(i,t).map(r.sign):n(i)};var i=Math.abs;r.abs=function(n,t){return r.isArray(n)?r.pluck(n,t).map(r.abs):i(n)},r.square=function(n,i){return r.pow(r.pluck(n,i),2)},r.cube=function(n,i){return r.pow(r.pluck(n,i),3)};var t=Math.pow;r.pow=function(n,i){return r.isArray(n)?n.map(n=>r.pow(n,i)):t(n,i)},r.sqrt=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.sqrt):r.pow(n,.5)},r.cbrt=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.cbrt):r.pow(n,1/3)},r.factorial=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.factorial):n<0?1/0:0===n?1:r.product(r.range(n))},r.scale=function(n,i,t){r.isUndefined(i)&&(i=0),r.isUndefined(t)&&(t=1);var u=Math.min(...n),e=Math.max(...n)-u,a=t-i;return n.map(r=>(r-u)/e*a+i)},r.sameSign=function(n,i){return r.isArray(n)?n.map(n=>r.sameSign(n,i)):n>=0!=i<0},r.copySign=function(n,i){return r.isArray(n)?n.map(n=>r.copysign(n,i)):r.samesign(n,i)?n:-n},r.undirectedEdges=function(n,i){return r.isArray(n)?r.pluck(n,i).map(r.undirectedEdges):n*(n-1)/2},r.factors=function(n){r.isArray(n)&&n.map(r.factors);for(var i=[],t=r.abs(Math.round(n)),u=!1;!u;){u=!0;for(var e=2;e<=t/2;e++)if(n%e==0){n/=e,i.push(e),u=!1;break}}return 0===i.length&&i.push(t),i},r.divisors=function(n){if(r.isArray(n))return n.map(r.divisors);for(var i=r.abs(Math.round(n)),t=[1],u=2;u<=i/2;u++)i%u==0&&t.push(u);return t},r.between=function(n,i,t){return r.isArray(n)?n.map(n=>r.between(n)):i<=n&&n<=t||t<=n&&n<=i},r.format=function(n,i){return r.isArray(n)?n.map(n=>r.format(n,i)):n.toFixed(i)/1},r.sort=function(r,n){return n?r.sort((r,n)=>n-r):r.sort((r,n)=>r-n)},r.sum=r.add=function(n,i){return r.pluck(n,i).reduce((r,n)=>r+n,0)},r.product=r.multiply=function(n,i){return r.pluck(n,i).reduce((r,n)=>r*n,1)},r.gcd=function(n,i){if(r.isArray(n))return n.map(n=>r.gcd(n,i));for(var t;i;)n=(t=[i,n%i])[0],i=t[1];return n},r.lcm=function(n,i){return r.isArray(n)?n.map(n=>r.lcm(n,i)):n/r.gcd(n,i)*i},r.mean=r.average=function(n,i){var t=r.pluck(n,i);return r.sum(t)/t.length},r.median=function(n,i){var t=r.pluck(n,i),u=(t.length+1)/2,e=r.sort(t.slice());return e.length%2?e[u-1]:(e[u-1.5]+e[u-.5])/2},r.mode=r.modes=function(n,i){var t=r.pluck(n,i);if(!t.length)return[];var u={},e=0,a=[];return t.forEach(r=>{u[r]?u[r]++:u[r]=1;u[r]>e?(a=[r],e=u[r]):u[r]===e&&a.push(r)}),a},r.geometricMean=function(n,i){var t=r.pluck(n,i);return r.pow(r.product(t),1/t.length)},r.variance=function(n,i){var t=r.pluck(n,i),u=r.mean(t);return r.mean(t.map(n=>r.pow(n-u,2)))},r.stdDeviation=r.sigma=function(n,i){return r.sqrt(r.variance(r.pluck(n,i)))},r.meanAbsoluteDeviation=function(n,i){var t=r.pluck(n,i),u=r.mean(t);return r.mean(t.map(n=>r.abs(n-u)))},r.zscore=function(n,i){var t=r.pluck(n,i),u=r.mean(t),e=r.stdDeviation(t);return t.map(r=>(r-u)/e)},r.wilson=function(n,i){var t=n.reduce((r,n)=>n?r+1:r,0),u=n.length;if(u<=0||u<t)return 0;var e=t/u,i=i||1.644853,a=r.square(i);return(e+a/(2*u)-i*r.sqrt((e*(1-e)+a/(4*u))/u))/(1+a/u)},r.movingAvg=function(n,i){var t,u,e=[];for(u=i-1;u<=n.length;u++)(t=n.slice(u-i,u)).length===i&&e.push(r.mean(t));return e},r.slope=function(r,n){return(r[1]-n[1])/(r[0]-n[0])},r.transpose=function(r){var n=[];return r.forEach((r,i)=>{r.forEach((r,t)=>{n[t]||(n[t]=[]);n[t][i]=r})}),n},"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=r),exports.math=r):window.math=r}).call();